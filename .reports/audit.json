{
  "timestamp": "2025-07-23T20:31:35.619Z",
  "auditVersion": "1.0.0",
  "mode": "SAFE_UPDATE_95_CONFIDENCE",
  "typescript": {
    "success": false,
    "output": "\n> brolab-beats-store@1.0.0 check\n> tsc\n\nclient/src/components/AddToCartButton.tsx(47,9): error TS2561: Object literal may only specify known properties, but 'image_url' does not exist in type 'Omit<CartItem, \"price\">'. Did you mean to write 'imageUrl'?\nclient/src/components/CompletePaymentFlow.tsx(324,19): error TS2554: Expected 1 arguments, but got 3.\nclient/src/components/FeaturedBeatsCarousel.tsx(179,29): error TS2322: Type '{ beat: UIBeat; className: string; }' is not assignable to type 'IntrinsicAttributes & BeatCardProps'.\n  Property 'beat' does not exist on type 'IntrinsicAttributes & BeatCardProps'.\nclient/src/components/FeaturedBeatsCarousel.tsx(225,19): error TS2322: Type '{ key: number; beat: UIBeat; className: string; }' is not assignable to type 'IntrinsicAttributes & BeatCardProps'.\n  Property 'beat' does not exist on type 'IntrinsicAttributes & BeatCardProps'.\nclient/src/components/LazyComponents.tsx(20,15): error TS2724: '\"./AdvancedBeatFilters\"' has no exported member named 'AdvancedBeatFiltersProps'. Did you mean 'AdvancedBeatFilters'?\nclient/src/components/LazyComponents.tsx(21,15): error TS2724: '\"./BeatSimilarityRecommendations\"' has no exported member named 'BeatSimilarityRecommendationsProps'. Did you mean 'BeatSimilarityRecommendations'?\nclient/src/components/LazyComponents.tsx(22,15): error TS2724: '\"./BeatStemsDelivery\"' has no exported member named 'BeatStemsDeliveryProps'. Did you mean 'BeatStemsDelivery'?\nclient/src/components/LazyComponents.tsx(23,15): error TS2724: '\"./CustomBeatRequest\"' has no exported member named 'CustomBeatRequestProps'. Did you mean 'CustomBeatRequest'?\nclient/src/components/LazyComponents.tsx(24,15): error TS2724: '\"./WaveformAudioPlayer\"' has no exported member named 'WaveformAudioPlayerProps'. Did you mean 'WaveformAudioPlayer'?\nclient/src/components/OptimizedBeatGrid.tsx(50,13): error TS2322: Type '{ beat: Beat; onClick: () => void | undefined; }' is not assignable to type 'IntrinsicAttributes & BeatCardProps'.\n  Property 'beat' does not exist on type 'IntrinsicAttributes & BeatCardProps'.\nclient/src/components/OptimizedBeatGrid.tsx(56,13): error TS2322: Type '{ beat: Beat; onClick: () => void | undefined; }' is not assignable to type 'IntrinsicAttributes & ResponsiveBeatCardProps'.\n  Property 'onClick' does not exist on type 'IntrinsicAttributes & ResponsiveBeatCardProps'.\nclient/src/components/PerformanceOptimizations.tsx(8,46): error TS2307: Cannot find module './audio/WaveformPlayer' or its corresponding type declarations.\nclient/src/components/PerformanceOptimizations.tsx(9,47): error TS2307: Cannot find module './filters/AdvancedFilters' or its corresponding type declarations.\nclient/src/components/ResponsiveBeatCard.tsx(150,17): error TS2322: Type '{ id: string; name: string; price: number; image: string; }' is not assignable to type 'ProductLike & { name?: string | undefined; }'.\n  Property 'title' is missing in type '{ id: string; name: string; price: number; image: string; }' but required in type 'ProductLike'.\nclient/src/components/ResponsiveBeatCard.tsx(195,19): error TS2322: Type '{ id: string; name: string; price: number; image: string; }' is not assignable to type 'ProductLike & { name?: string | undefined; }'.\n  Property 'title' is missing in type '{ id: string; name: string; price: number; image: string; }' but required in type 'ProductLike'.\nclient/src/components/SearchHero.tsx(188,43): error TS7006: Parameter 'product' implicitly has an 'any' type.\nclient/src/components/WaveformPlayer.tsx(49,7): error TS2353: Object literal may only specify known properties, and 'responsive' does not exist in type 'WaveSurferOptions'.\nclient/src/components/WaveformPlayer.tsx(73,19): error TS2345: Argument of type '\"seek\"' is not assignable to parameter of type 'keyof WaveSurferEvents'.\nclient/src/components/layout/navbar.tsx(137,34): error TS2339: Property 'username' does not exist on type '{}'.\nclient/src/components/layout/navbar.tsx(217,42): error TS2339: Property 'username' does not exist on type '{}'.\nclient/src/components/layout/navbar.tsx(269,36): error TS2339: Property 'username' does not exist on type '{}'.\nclient/src/components/payment/ApplePayButton.tsx(21,17): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(21,44): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(40,34): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(42,43): error TS7006: Parameter 'event' implicitly has an 'any' type.\nclient/src/components/payment/ApplePayButton.tsx(55,44): error TS7006: Parameter 'event' implicitly has an 'any' type.\nclient/src/components/payment/ApplePayButton.tsx(65,44): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(68,44): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(72,42): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(86,15): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/ApplePayButton.tsx(86,42): error TS2339: Property 'ApplePaySession' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/GooglePayButton.tsx(21,19): error TS2339: Property 'google' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/GooglePayButton.tsx(37,35): error TS2339: Property 'google' does not exist on type 'Window & typeof globalThis'.\nclient/src/components/payment/SubscriptionBilling.tsx(39,15): error TS2339: Property 'stripeCustomerId' does not exist on type 'User'.\nclient/src/components/payment/SubscriptionBilling.tsx(47,54): error TS2339: Property 'stripeCustomerId' does not exist on type 'User'.\nclient/src/components/payment/SubscriptionBilling.tsx(48,50): error TS2339: Property 'stripeCustomerId' does not exist on type 'User'.\nclient/src/lib/cart.ts(53,5): error TS2322: Type 'string' is not assignable to type 'number'.\nclient/src/pages/MembershipPage.tsx(189,59): error TS2345: Argument of type '\"monthly\" | \"yearly\"' is not assignable to parameter of type '\"monthly\" | \"annual\"'.\n  Type '\"yearly\"' is not assignable to type '\"monthly\" | \"annual\"'.\nclient/src/pages/cart.tsx(171,19): error TS2339: Property 'subtotal' does not exist on type 'Cart'.\nclient/src/pages/home.tsx(23,11): error TS2339: Property 'products' does not exist on type '{ useProducts: (filters?: { category?: string | undefined; search?: string | undefined; min_price?: number | undefined; max_price?: number | undefined; per_page?: number | undefined; page?: number | undefined; orderby?: \"title\" | ... 3 more ... | undefined; order?: \"desc\" | ... 1 more ... | undefined; } | undefined)...'.\nclient/src/pages/home.tsx(23,28): error TS2339: Property 'isLoading' does not exist on type '{ useProducts: (filters?: { category?: string | undefined; search?: string | undefined; min_price?: number | undefined; max_price?: number | undefined; per_page?: number | undefined; page?: number | undefined; orderby?: \"title\" | ... 3 more ... | undefined; order?: \"desc\" | ... 1 more ... | undefined; } | undefined)...'.\nclient/src/pages/home.tsx(23,57): error TS2554: Expected 0 arguments, but got 1.\nclient/src/pages/home.tsx(185,45): error TS7006: Parameter 'index' implicitly has an 'any' type.\nclient/src/pages/payment-dashboard.tsx(149,19): error TS2322: Type 'Dispatch<SetStateAction<null>>' is not assignable to type '(plan: PaymentPlan | null) => void'.\n  Types of parameters 'value' and 'plan' are incompatible.\n    Type 'PaymentPlan | null' is not assignable to type 'SetStateAction<null>'.\n      Type 'PaymentPlan' is not assignable to type 'SetStateAction<null>'.\n        Type 'PaymentPlan' provides no match for the signature '(prevState: null): null'.\nclient/src/pages/product.tsx(211,53): error TS2322: Type 'Dispatch<SetStateAction<\"basic\" | \"premium\" | \"unlimited\">>' is not assignable to type '(value: string) => void'.\n  Types of parameters 'value' and 'value' are incompatible.\n    Type 'string' is not assignable to type 'SetStateAction<\"basic\" | \"premium\" | \"unlimited\">'.\nclient/src/pages/shop.tsx(68,62): error TS2345: Argument of type '{ min_price: string; max_price: string; page: number; per_page: number; search: string | undefined; category: string | undefined; orderby: \"price\" | \"date\"; order: \"desc\" | \"asc\"; } | { ...; } | { ...; }' is not assignable to parameter of type '{ category?: string | undefined; search?: string | undefined; min_price?: number | undefined; max_price?: number | undefined; per_page?: number | undefined; page?: number | undefined; orderby?: \"price\" | ... 3 more ... | undefined; order?: \"desc\" | ... 1 more ... | undefined; } | undefined'.\n  Type '{ min_price: string; max_price: string; page: number; per_page: number; search: string | undefined; category: string | undefined; orderby: \"price\" | \"date\"; order: \"desc\" | \"asc\"; }' is not assignable to type '{ category?: string | undefined; search?: string | undefined; min_price?: number | undefined; max_price?: number | undefined; per_page?: number | undefined; page?: number | undefined; orderby?: \"price\" | ... 3 more ... | undefined; order?: \"desc\" | ... 1 more ... | undefined; }'.\n    Types of property 'min_price' are incompatible.\n      Type 'string' is not assignable to type 'number'.\nclient/src/pages/shop.tsx(477,29): error TS2322: Type '{ id: any; name: any; price: number; image: any; }' is not assignable to type 'ProductLike & { name?: string | undefined; }'.\n  Property 'title' is missing in type '{ id: any; name: any; price: number; image: any; }' but required in type 'ProductLike'.\nserver/routes/woo.ts(3,71): error TS2307: Cannot find module '../services/woo' or its corresponding type declarations.\nserver/routes/wp.ts(3,68): error TS2307: Cannot find module '../services/wp' or its corresponding type declarations.\n",
    "error": "Command failed: npm run check",
    "errorCount": 49
  },
  "tests": {
    "success": true,
    "output": "\n> brolab-beats-store@1.0.0 test\n> jest --silent --passWithNoTests\n\n"
  },
  "packageIntegrity": {
    "packageJsonExists": true,
    "packageLockExists": true,
    "nodeModulesExists": true
  },
  "fileStructure": {
    "server": {
      "routes": 5,
      "routeFiles": [
        "server/routes/downloads.ts",
        "server/routes/serviceOrders.ts",
        "server/routes/subscription.ts",
        "server/routes/woo.ts",
        "server/routes/wp.ts"
      ],
      "lib": 9,
      "libFiles": [
        "server/lib/accessControl.ts",
        "server/lib/cliPort.ts",
        "server/lib/db.ts",
        "server/lib/dbUser.ts",
        "server/lib/findFreePort.ts",
        "server/lib/supabaseAdmin.ts",
        "server/lib/supabaseClient.ts",
        "server/lib/mappers/woo.ts",
        "server/lib/mappers/wp.ts"
      ],
      "services": 0,
      "serviceFiles": []
    },
    "client": {
      "pages": 25,
      "pageFiles": [
        "client/src/pages/MembershipPage.tsx",
        "client/src/pages/about.tsx",
        "client/src/pages/cart.tsx",
        "client/src/pages/contact.tsx",
        "client/src/pages/copyright.tsx",
        "client/src/pages/custom-beats.tsx",
        "client/src/pages/dashboard.tsx",
        "client/src/pages/enhanced-checkout.tsx",
        "client/src/pages/faq.tsx",
        "client/src/pages/home.tsx",
        "client/src/pages/immediate-steps-demo.tsx",
        "client/src/pages/licensing.tsx",
        "client/src/pages/login.tsx",
        "client/src/pages/mixing-mastering.tsx",
        "client/src/pages/not-found.tsx",
        "client/src/pages/order-confirmation.tsx",
        "client/src/pages/payment-dashboard.tsx",
        "client/src/pages/privacy.tsx",
        "client/src/pages/product.tsx",
        "client/src/pages/production-consultation.tsx",
        "client/src/pages/recording-sessions.tsx",
        "client/src/pages/refund.tsx",
        "client/src/pages/shop.tsx",
        "client/src/pages/terms.tsx",
        "client/src/pages/static/PageRenderer.tsx"
      ],
      "components": 79,
      "hooks": 15,
      "hookFiles": [
        "client/src/hooks/use-cart.ts",
        "client/src/hooks/use-mobile.tsx",
        "client/src/hooks/use-scroll-to-top.ts",
        "client/src/hooks/use-toast.ts",
        "client/src/hooks/use-woocommerce.ts",
        "client/src/hooks/use-wordpress.ts",
        "client/src/hooks/useAuth.tsx",
        "client/src/hooks/useBreakpoint.ts",
        "client/src/hooks/useCurrentUser.ts",
        "client/src/hooks/useGeolocation.ts",
        "client/src/hooks/useNetworkStatus.ts",
        "client/src/hooks/useOrientation.ts",
        "client/src/hooks/usePrefersReducedMotion.ts",
        "client/src/hooks/useScrollToTop.ts",
        "client/src/hooks/useTranslation.ts"
      ]
    },
    "shared": {
      "schemas": 1,
      "schemaFiles": [
        "shared/schema.ts"
      ]
    }
  },
  "featureDetection": {
    "authSystem": {
      "loginRoute": false,
      "userModel": true,
      "sessionManagement": false
    },
    "paymentSystem": {
      "stripeIntegration": true,
      "paypalIntegration": true,
      "paymentRoutes": false
    },
    "woocommerce": {
      "apiIntegration": true,
      "productSync": true
    },
    "database": {
      "supabaseConfig": true,
      "schemaDefinitions": true,
      "storageLayer": true
    },
    "audioSystem": {
      "waveformPlayer": true,
      "audioPreview": true
    },
    "shoppingCart": {
      "cartProvider": true,
      "cartHooks": true,
      "checkoutFlow": true
    },
    "advancedFeatures": {
      "subscriptionSystem": true,
      "referralSystem": true,
      "multiLanguage": true
    }
  },
  "configuration": {
    "environment": {
      "envFileExists": true,
      "envExampleExists": true,
      "envVarCount": 29
    },
    "viteConfig": true,
    "tailwindConfig": true,
    "typescriptConfig": true,
    "packageManager": "pnpm"
  },
  "integrationStatus": {
    "apiEndpoints": {
      "serverReachable": false,
      "woocommerceApi": false,
      "stripeApi": false,
      "authApi": false
    },
    "externalServices": {
      "wordpress": true,
      "stripe": true,
      "supabase": true
    }
  }
}